# Message_to_the_admin
## Описание проекта
Данный проект предназначен для демонстрации навыков в программировании на **PHP**, верстке на **bootstrap**, **ajax** и разработки приложения с использованием фреймворка **Laravel**. В проекте реализована форма, при вводе в которую отправляются данные на сервер без перезагрузки страницы. Выполнен механизм состоящий из двух api методов, позволяющих получить csrf token и создать новое сообщение, удобно тестировать через postman или похожие приложения. При создании сообщение записывается в бд и отправляется письмо администратору сайта. Так же для удобства реализована простенькая админка, позволяющая поменять почту админа, вывести список сообщений из бд и удалить сообщение. В качестве программного стека использовались: язык программирования PHP - 8.1, фреймворк Laravel - 10.1, база данных PostgreSQL - 14.9, BootStrap 5, jquery - 3.7.

___

## Функционал проекта
Создано преложение в котором посредством встроенных методов (*модуль Auth*), пользователь имеет возможность зарегистрироваться на сайте, авторизоваться и деавторизоваться. Пользотель или гость может отправить сообщение, как на сайте так и через api. Админ может просматривать, создавать и удалять сообщения. Выполнена валидация форм: для админа из коробки, для пользователей возврат кастомных сообщений об ошибках.
> ### Функции
- [x] Регистрация
- [x] Авторизация
- [x] Деавторизация
- [x] Валидация формы создания сообщения
- [x] Создание сообщения
- [x] Чтение списка сообщений
- [x] Удаление сообщения
- [x] Обновление адреса почты
- [x] API метод создания сообщения

___

## Установка и настройка проекта
+ Клонировать проект ```git@github.com:skulsik/NonsenseGenerator.git```
+ переход в рабочую папку, выполните команду в терминале: cd app
+ установка зависимостей, выполните команду в терминале: composer install
+ в папке app создайте фаил .env и скопируйте туда все содержимое файла .env.example
+ генерация ключа проекта, выполните команду в терминале: php artisan key:generate
+ создайте базу данных(через консоль или через программы с интерфейсом) с названием nonsense_generator, либо придумайте свое
+ в файле .env в настройках DB укажите: назавание базы данных, если вы создали бд под своим названием; имя пользователя и пароль
+ сделайте миграции, выполните команду в терминале: php artisan migrate
+ выполните команду в терминале для начального заполнения таблиц бд: php artisan db:seed
+ запустите проект и наслаждайтесь тестами, выполните команду в терминале: php artisan serve
+ Данные для входа:
  - email = admin@pochta.ru
  - password = admin

___

## Методы, функции, модели
### Модель Message
```php
    $table->id();
    $table->string('name');
    $table->string('phone');
    $table->string('email');
    $table->string('slug');
    $table->timestamps();
```
В модели используются поля:
- name - Имя
- phone - телефон
- email - электронная почта
- slug - используется для ссылок в js, реализован из токена, у которого с помощью функции убираются числа и рандомно перемешиваются символы для уникальности

### Контроллеры
Бизнес-логика вынесена в сервисный слой.
